Absolutely â€” hereâ€™s the updated Replit prompt with support for inviting or searching friends by username, email, or phone number, along with the necessary update to the user profile/account system.

â¸»

ğŸ”§ Replit Prompt: Friend System + Search by Phone Number + Visibility Controls

Iâ€™d like to add a Friend System to the app that allows users to:

â¸»

ğŸ§‘â€ğŸ¤â€ğŸ§‘ 1. Core Friend Functionality
	â€¢	Send/Accept Friend Requests
	â€¢	Users can search for other users by:
	â€¢	Username
	â€¢	Email
	â€¢	Phone number
	â€¢	Users can send friend requests
	â€¢	Recipient can accept or decline
	â€¢	Friendship is mutual (two-way)
	â€¢	Manage Friends List
	â€¢	View list of accepted friends
	â€¢	View incoming and outgoing requests
	â€¢	Unfriend or block users

â¸»

ğŸ—‚ï¸ 2. Circles / Friend Groups
	â€¢	Users can optionally organize friends into custom circles or tags (e.g., â€œTherapistâ€, â€œTrustedâ€, â€œSchool Friendsâ€)
	â€¢	Circles are private to the user

â¸»

ğŸ” 3. Relationship Visibility Integration
	â€¢	When creating/editing a relationship, the user should be able to select visibility options:
	â€¢	Private (only me)
	â€¢	All Friends
	â€¢	Selected Friends or Circles (multi-select)
	â€¢	Therapist/Guardian only
	â€¢	Each visibility level defines what a friend can see:
	â€¢	Relationship name + status only
	â€¢	Flag summary only
	â€¢	Full details

â¸»

ğŸ”• 4. Silent Exit Notification Feature
	â€¢	When a user marks a relationship as â€œOver,â€ and it was shared with friends:
	â€¢	Option to silently notify selected friends (â€œ[Name] has removed this relationship from their profile.â€)

â¸»

ğŸ“± 5. User Profile Update (Phone Number Support)

Update the user profile system to store a phone number field (optional but unique):
	â€¢	Validate for proper format
	â€¢	Store as phone_number in Supabase
	â€¢	Allow users to be found or invited via phone number

â¸»

ğŸ› ï¸ Notes
	â€¢	Use Supabase for database logic
	â€¢	Add appropriate indexes for friend search (username, email, phone)
	â€¢	Each friendship record should include:
	â€¢	requester_id
	â€¢	receiver_id
	â€¢	status (requested, accepted, blocked)
	â€¢	created_at
	â€¢	optional circle or tag

Use React (or current front-end framework) to:
	â€¢	Render add/search friend UI with all 3 options
	â€¢	Show visibility settings in relationship form
	â€¢	Enable multi-select sharing with friend circles

â¸»

Let me know if you also want to include a â€œPending Invite via Phoneâ€ state (for when someone hasnâ€™t signed up yet), or if youâ€™re ready to build the sharing engine logic next.